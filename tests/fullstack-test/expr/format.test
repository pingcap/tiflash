mysql> drop table if exists test.t
mysql> create table test.t(a float, b double, c decimal(20, 10), d int, e varchar(20))
mysql> alter table test.t set tiflash replica 1
mysql> insert into test.t values (12.1235, 12.1235, 12.1235, 5, 'en_US'),(12.1235, 12.1235, 12.1235, 4, 'enUS'),(12.1235, 12.1235, 12.1235, 3, null)

func> wait_table test t

mysql> set tidb_enforce_mpp=1; set tidb_isolation_read_engines='tiflash'; select format(a, d, e) as float_val from test.t
float_val
12.12350
12.1235
12.124

mysql> set tidb_enforce_mpp=1; set tidb_isolation_read_engines='tiflash'; select format(b, d, e) as double_val from test.t
double_val
12.12350
12.1235
12.124

mysql> set tidb_enforce_mpp=1; set tidb_isolation_read_engines='tiflash'; select format(c, d, e) as decimal_val from test.t
decimal_val
12.12350
12.1235
12.124

mysql> drop table if exists test.t

mysql> drop table if exists test.t
mysql> create table test.t(a decimal(60, 30))
mysql> alter table test.t set tiflash replica 1
mysql> insert into test.t values (1.23),(123),(-123.99),(123.123),(0),(0.0),(NULL),(12345678901234567890123456789),(0.12345678901234567890123456789)

func> wait_table test t

mysql> set tidb_allow_mpp=1; set tidb_isolation_read_engines='tiflash'; select a, b from (select a, cast(a as double) as b from test.t) t group by a, b order by a
+--------------------------------------------------------------+-----------------------+
| a                                                            | b                     |
+--------------------------------------------------------------+-----------------------+
|                                                         NULL |                  NULL |
|                          -123.990000000000000000000000000000 |               -123.99 |
|                             0.000000000000000000000000000000 |                     0 |
|                             0.123456789012345678901234567890 |   0.12345678901234568 |
|                             1.230000000000000000000000000000 |                  1.23 |
|                           123.000000000000000000000000000000 |                   123 |
|                           123.123000000000000000000000000000 |               123.123 |
| 12345678901234567890123456789.000000000000000000000000000000 | 1.2345678901234568e28 |
+--------------------------------------------------------------+-----------------------+

mysql> drop table if exists test.t

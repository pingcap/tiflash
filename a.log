[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:46] ["get cluster id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:54] ["get process id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:46] ["get cluster id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:54] ["get process id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:46] ["get cluster id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:54] ["get process id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:46] ["get cluster id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.561 +08:00] [INFO] [ComputeLabelHolder.cpp:54] ["get process id: unknown"] [thread_id=1]
[2023/08/16 18:28:48.573 +08:00] [INFO] [BackgroundProcessingPool.cpp:90] ["Create BackgroundProcessingPool, prefix=bg- n_threads=2"] [thread_id=1]
[2023/08/16 18:28:48.573 +08:00] [INFO] [BackgroundProcessingPool.cpp:90] ["Create BackgroundProcessingPool, prefix=bg-block- n_threads=2"] [thread_id=1]
[2023/08/16 18:28:48.573 +08:00] [INFO] [PathCapacityMetrics.cpp:93] ["Init capacity [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/] [capacity=0.00 B]"] [thread_id=1]
[2023/08/16 18:28:48.574 +08:00] [INFO] [PageStorageImpl.cpp:61] ["PageStorageImpl start. Config{ PageStorageConfig {blob_file_limit_size: 268435456, blob_spacemap_type: 2, blob_heavy_gc_valid_rate: 0.500, blob_heavy_gc_valid_rate_raft_data: 0.050, blob_block_alignment_bytes: 0, wal_roll_size: 2097152, wal_max_persisted_log_files: 4} }"] [source=__global__.log] [thread_id=1]
[2023/08/16 18:28:48.574 +08:00] [INFO] [PageStorageImpl.cpp:61] ["PageStorageImpl start. Config{ PageStorageConfig {blob_file_limit_size: 268435456, blob_spacemap_type: 2, blob_heavy_gc_valid_rate: 0.500, blob_heavy_gc_valid_rate_raft_data: 0.050, blob_block_alignment_bytes: 0, wal_roll_size: 2097152, wal_max_persisted_log_files: 4} }"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.574 +08:00] [INFO] [PageStorageImpl.cpp:61] ["PageStorageImpl start. Config{ PageStorageConfig {blob_file_limit_size: 268435456, blob_spacemap_type: 2, blob_heavy_gc_valid_rate: 0.500, blob_heavy_gc_valid_rate_raft_data: 0.050, blob_block_alignment_bytes: 0, wal_roll_size: 2097152, wal_max_persisted_log_files: 4} }"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.574 +08:00] [INFO] [BlobStore.cpp:123] ["Ignore not blob file [dir=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/log] [file=wal] [err_msg=]"] [source=__global__.log] [thread_id=1]
[2023/08/16 18:28:48.574 +08:00] [INFO] [PageDirectoryFactory.cpp:68] ["PageDirectory restored, max_page_id=0 max_applied_ver=0"] [source=__global__.log] [thread_id=1]
[2023/08/16 18:28:48.574 +08:00] [INFO] [BlobStore.cpp:123] ["Ignore not blob file [dir=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data] [file=wal] [err_msg=]"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.575 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data/wal/log_1_0 size=2812"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.576 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data/wal/log_2_0 size=2812"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.576 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data/wal/log_3_0 size=2812"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.577 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data/wal/log_4_0 size=2812"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.578 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data/wal/log_5_0 size=2812"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.579 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data/wal/log_6_0 size=2812"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.580 +08:00] [DEBUG] [PageDirectory.cpp:2180] ["After MVCC gc in memory [lowest_seq=288] clean [invalid_snapshot_nums=0] [invalid_page_nums=132] [total_deref_counter=0] [all_del_entries=0]. Still exist [snapshot_nums=0], [page_nums=0]. Longest alive snapshot: [longest_alive_snapshot_time=0] [longest_alive_snapshot_seq=0] [stale_snapshot_nums=0]"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.580 +08:00] [INFO] [PageDirectoryFactory.cpp:68] ["PageDirectory restored, max_page_id=150 max_applied_ver=288"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:48.580 +08:00] [INFO] [BlobStore.cpp:123] ["Ignore not blob file [dir=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta] [file=wal] [err_msg=]"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.580 +08:00] [INFO] [BlobStat.cpp:136] ["Created a new BlobStat [blob_id=10] [capacity=268435456]"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.581 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta/wal/log_1_0 size=8672"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.582 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta/wal/log_2_0 size=8672"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.583 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta/wal/log_3_0 size=8672"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.584 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta/wal/log_4_0 size=8672"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.586 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta/wal/log_5_0 size=8672"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.588 +08:00] [DEBUG] [WALReader.cpp:177] ["Open log file for reading, file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta/wal/log_6_0 size=8672"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.591 +08:00] [DEBUG] [PageDirectory.cpp:2180] ["After MVCC gc in memory [lowest_seq=522] clean [invalid_snapshot_nums=0] [invalid_page_nums=85] [total_deref_counter=0] [all_del_entries=0]. Still exist [snapshot_nums=0], [page_nums=0]. Longest alive snapshot: [longest_alive_snapshot_time=0] [longest_alive_snapshot_seq=0] [stale_snapshot_nums=0]"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.591 +08:00] [INFO] [PageDirectoryFactory.cpp:68] ["PageDirectory restored, max_page_id=90 max_applied_ver=522"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:48.591 +08:00] [INFO] [TiFlashTestEnv.cpp:150] ["Storage mode : 2"] [thread_id=1]
[2023/08/16 18:28:48.591 +08:00] [INFO] [MinTSOScheduler.cpp:74] ["thread_hard_limit is 10000, thread_soft_limit is 5000, and active_set_soft_limit is 19 in MinTSOScheduler."] [thread_id=1]
[2023/08/16 18:28:48.592 +08:00] [INFO] [PageStorageImpl.cpp:61] ["PageStorageImpl start. Config{ PageStorageConfig {blob_file_limit_size: 268435456, blob_spacemap_type: 2, blob_heavy_gc_valid_rate: 0.500, blob_heavy_gc_valid_rate_raft_data: 0.050, blob_block_alignment_bytes: 0, wal_roll_size: 2097152, wal_max_persisted_log_files: 4} }"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:48.592 +08:00] [INFO] [BlobStore.cpp:123] ["Ignore not blob file [dir=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/kvstore] [file=wal] [err_msg=]"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:48.592 +08:00] [INFO] [PageDirectoryFactory.cpp:68] ["PageDirectory restored, max_page_id=0 max_applied_ver=0"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:48.592 +08:00] [INFO] [RegionPersister.cpp:357] ["RegionPersister running. Current Run Mode is ONLY_V3"] [thread_id=1]
[2023/08/16 18:28:48.592 +08:00] [INFO] [KVStore.cpp:72] ["Restored 0 regions"] [thread_id=1]
[2023/08/16 18:28:48.592 +08:00] [INFO] [RegionTable.cpp:107] ["RegionTable restore start"] [thread_id=1]
[2023/08/16 18:28:48.593 +08:00] [INFO] [RegionTable.cpp:112] ["RegionTable restore end, n_tables=0"] [thread_id=1]
[2023/08/16 18:28:48.594 +08:00] [INFO] [SegmentReader.cpp:173] ["Create start, thread_count=36 cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=1]
[2023/08/16 18:28:48.595 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=2]
[2023/08/16 18:28:48.595 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=3]
[2023/08/16 18:28:48.595 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=4]
[2023/08/16 18:28:48.595 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=5]
[2023/08/16 18:28:48.595 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=6]
[2023/08/16 18:28:48.596 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=7]
[2023/08/16 18:28:48.596 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=8]
[2023/08/16 18:28:48.596 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=9]
[2023/08/16 18:28:48.596 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=10]
[2023/08/16 18:28:48.596 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=11]
[2023/08/16 18:28:48.597 +08:00] [INFO] [SegmentReader.cpp:178] ["Create end, thread_count=36 cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=1]
[2023/08/16 18:28:48.597 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=12]
[2023/08/16 18:28:48.597 +08:00] [INFO] [SegmentReader.cpp:173] ["Create start, thread_count=36 cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=1]
[2023/08/16 18:28:48.597 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=13]
[2023/08/16 18:28:48.597 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=14]
[2023/08/16 18:28:48.597 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=15]
[2023/08/16 18:28:48.597 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=16]
[2023/08/16 18:28:48.598 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=17]
[2023/08/16 18:28:48.598 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=18]
[2023/08/16 18:28:48.598 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=19]
[2023/08/16 18:28:48.598 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=20]
[2023/08/16 18:28:48.599 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=21]
[2023/08/16 18:28:48.599 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=22]
[2023/08/16 18:28:48.599 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=23]
[2023/08/16 18:28:48.599 +08:00] [INFO] [SegmentReader.cpp:178] ["Create end, thread_count=36 cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=1]
[2023/08/16 18:28:48.599 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=24]
[2023/08/16 18:28:48.599 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=25]
[2023/08/16 18:28:48.599 +08:00] [INFO] [SegmentReader.cpp:220] ["numa_nodes=[[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0], [21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]] number_of_readers=72"] [thread_id=1]
[2023/08/16 18:28:48.600 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=26]
[2023/08/16 18:28:48.600 +08:00] [DEBUG] [S3Common.cpp:289] ["Aws::InitAPI start"] [thread_id=1]
[2023/08/16 18:28:48.600 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=27]
[2023/08/16 18:28:48.600 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=28]
[2023/08/16 18:28:48.600 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=29]
[2023/08/16 18:28:48.600 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=30]
[2023/08/16 18:28:48.600 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=31]
[2023/08/16 18:28:48.601 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=32]
[2023/08/16 18:28:48.601 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=33]
[2023/08/16 18:28:48.601 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=34]
[2023/08/16 18:28:48.601 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=35]
[2023/08/16 18:28:48.601 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=36]
[2023/08/16 18:28:48.601 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=37]
[2023/08/16 18:28:48.601 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=38]
[2023/08/16 18:28:48.602 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=39]
[2023/08/16 18:28:48.602 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=40]
[2023/08/16 18:28:48.602 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=41]
[2023/08/16 18:28:48.602 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=42]
[2023/08/16 18:28:48.602 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=43]
[2023/08/16 18:28:48.602 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=44]
[2023/08/16 18:28:48.603 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=45]
[2023/08/16 18:28:48.603 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=46]
[2023/08/16 18:28:48.603 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=47]
[2023/08/16 18:28:48.603 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=48]
[2023/08/16 18:28:48.603 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=49]
[2023/08/16 18:28:48.603 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=50]
[2023/08/16 18:28:48.604 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=51]
[2023/08/16 18:28:48.604 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=52]
[2023/08/16 18:28:48.604 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=53]
[2023/08/16 18:28:48.604 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=54]
[2023/08/16 18:28:48.604 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=55]
[2023/08/16 18:28:48.605 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[68, 58, 48, 38, 66, 28, 56, 18, 46, 36, 64, 26, 54, 16, 44, 34, 62, 24, 52, 14, 42, 70, 32, 60, 22, 50, 12, 40, 30, 20, 10, 8, 6, 4, 2, 0]"] [thread_id=56]
[2023/08/16 18:28:48.605 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=57]
[2023/08/16 18:28:48.605 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=58]
[2023/08/16 18:28:48.605 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=59]
[2023/08/16 18:28:48.605 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=60]
[2023/08/16 18:28:48.605 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=61]
[2023/08/16 18:28:48.606 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=62]
[2023/08/16 18:28:48.606 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=63]
[2023/08/16 18:28:48.606 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=64]
[2023/08/16 18:28:48.606 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=65]
[2023/08/16 18:28:48.606 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=66]
[2023/08/16 18:28:48.606 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=67]
[2023/08/16 18:28:48.607 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=68]
[2023/08/16 18:28:48.607 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=69]
[2023/08/16 18:28:48.607 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=70]
[2023/08/16 18:28:48.607 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=71]
[2023/08/16 18:28:48.607 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=72]
[2023/08/16 18:28:48.607 +08:00] [DEBUG] [SegmentReader.cpp:72] ["sched_setaffinity succ, cpus=[21, 11, 9, 7, 5, 3, 1, 69, 59, 49, 39, 67, 29, 57, 19, 47, 37, 65, 27, 55, 17, 45, 35, 63, 25, 53, 15, 43, 71, 33, 61, 23, 51, 13, 41, 31]"] [thread_id=73]
[2023/08/16 18:28:48.916 +08:00] [TRACE] [S3Common.cpp:145] ["tag=ClientConfiguration message=Request Compression enabled"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.916 +08:00] [TRACE] [S3Common.cpp:145] ["tag=ClientConfiguration message=ClientConfiguration will use MinReqCompression: 10240"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.916 +08:00] [TRACE] [S3Common.cpp:145] ["tag=ClientConfiguration message=ClientConfiguration will use SDK Auto Resolved profile: [default] if not specified by users."] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.916 +08:00] [WARN] [S3Common.cpp:145] ["tag=ClientConfiguration message=Retry Strategy will use the default max attempts."] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.955 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Environment value for variable HOME is /DATA/disk1/jaysonhuang"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.955 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Home directory is missing the final / appending one to normalize"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.955 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Final Home Directory is /DATA/disk1/jaysonhuang/"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.955 +08:00] [INFO] [S3Common.cpp:145] ["tag=Aws::Config::AWSConfigFileProfileConfigLoader message=Initializing config loader against fileName /DATA/disk1/jaysonhuang/.aws/credentials and using profilePrefix = 0"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Environment value for variable HOME is /DATA/disk1/jaysonhuang"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Home directory is missing the final / appending one to normalize"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Final Home Directory is /DATA/disk1/jaysonhuang/"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Environment value for variable HOME is /DATA/disk1/jaysonhuang"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Home directory is missing the final / appending one to normalize"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Final Home Directory is /DATA/disk1/jaysonhuang/"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [INFO] [S3Common.cpp:145] ["tag=ProfileConfigFileAWSCredentialsProvider message=Setting provider to read credentials from /DATA/disk1/jaysonhuang/.aws/credentials for credentials file and /DATA/disk1/jaysonhuang/.aws/config for the config file , for use with profile default"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [INFO] [S3Common.cpp:145] ["tag=ProcessCredentialsProvider message=Setting process credentials provider to read config from default"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [WARN] [S3Common.cpp:145] ["tag=STSAssumeRoleWithWebIdentityCredentialsProvider message=Token file must be specified to use STS AssumeRole web identity creds provider."] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [INFO] [S3Common.cpp:145] ["tag=SSOBearerTokenProvider message=Setting sso bearerToken provider to read config from default"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [INFO] [S3Common.cpp:145] ["tag=SSOCredentialsProvider message=Setting sso credentials provider to read config from default"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=DefaultAWSCredentialsProviderChain message=The environment variable value AWS_CONTAINER_CREDENTIALS_RELATIVE_URI is "] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=DefaultAWSCredentialsProviderChain message=The environment variable value AWS_CONTAINER_CREDENTIALS_FULL_URI is "] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=DefaultAWSCredentialsProviderChain message=The environment variable value AWS_EC2_METADATA_DISABLED is true"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [INFO] [S3Common.cpp:145] ["tag=Aws::Config::ConfigFileProfileFSM message=Unknown property: aws_access_key_id in the profile: ks3"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [INFO] [S3Common.cpp:145] ["tag=Aws::Config::ConfigFileProfileFSM message=Unknown property: aws_secret_access_key in the profile: ks3"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [TRACE] [S3Common.cpp:145] ["tag=Aws::Config::ConfigFileProfileFSM message=found access key AKLTrgUZw4N2TuWiOGQb7T3jw"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.956 +08:00] [INFO] [S3Common.cpp:145] ["tag=Aws::Config::AWSProfileConfigLoaderBase message=Successfully reloaded configuration."] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [INFO] [S3Common.cpp:145] ["tag=ProcessCredentialsProvider message=Failed to find credential process's profile: default"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Environment value for variable HOME is /DATA/disk1/jaysonhuang"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Home directory is missing the final / appending one to normalize"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Final Home Directory is /DATA/disk1/jaysonhuang/"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=SSOCredentialsProvider message=Loading token from: /DATA/disk1/jaysonhuang/.aws/sso/cache/da39a3ee5e6b4b0d3255bfef95601890afd80709.json"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=SSOCredentialsProvider message=Preparing to load token from: /DATA/disk1/jaysonhuang/.aws/sso/cache/da39a3ee5e6b4b0d3255bfef95601890afd80709.json"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [INFO] [S3Common.cpp:145] ["tag=SSOCredentialsProvider message=Unable to open token file on path: /DATA/disk1/jaysonhuang/.aws/sso/cache/da39a3ee5e6b4b0d3255bfef95601890afd80709.json"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [INFO] [S3Common.cpp:145] ["tag=ProcessCredentialsProvider message=Failed to find credential process's profile: default"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Environment value for variable HOME is /DATA/disk1/jaysonhuang"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Home directory is missing the final / appending one to normalize"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=FileSystemUtils message=Final Home Directory is /DATA/disk1/jaysonhuang/"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=SSOCredentialsProvider message=Loading token from: /DATA/disk1/jaysonhuang/.aws/sso/cache/da39a3ee5e6b4b0d3255bfef95601890afd80709.json"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [TRACE] [S3Common.cpp:145] ["tag=SSOCredentialsProvider message=Preparing to load token from: /DATA/disk1/jaysonhuang/.aws/sso/cache/da39a3ee5e6b4b0d3255bfef95601890afd80709.json"] [source=AWSClient] [thread_id=1]
[2023/08/16 18:28:48.957 +08:00] [INFO] [S3Common.cpp:145] ["tag=SSOCredentialsProvider message=Unable to open token file on path: /DATA/disk1/jaysonhuang/.aws/sso/cache/da39a3ee5e6b4b0d3255bfef95601890afd80709.json"] [source=AWSClient] [thread_id=1]
Note: Google Test filter = *ApplySnapshotTest.WithNewRegionRange/1*
[==========] Running 1 test from 1 test case.
[----------] Global test environment set-up.
[----------] 1 test from ByIngestUsingSplit/ApplySnapshotTest
[ RUN      ] ByIngestUsingSplit/ApplySnapshotTest.WithNewRegionRange/1
[2023/08/16 18:28:49.022 +08:00] [INFO] [kvstore_helper.h:172] ["Clean path /DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/region_kvs_test for bootstrap"] [source=Test] [thread_id=1]
[2023/08/16 18:28:49.023 +08:00] [INFO] [PageStorageImpl.cpp:61] ["PageStorageImpl start. Config{ PageStorageConfig {blob_file_limit_size: 268435456, blob_spacemap_type: 2, blob_heavy_gc_valid_rate: 0.500, blob_heavy_gc_valid_rate_raft_data: 0.050, blob_block_alignment_bytes: 0, wal_roll_size: 2097152, wal_max_persisted_log_files: 4} }"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:49.023 +08:00] [INFO] [PageDirectoryFactory.cpp:68] ["PageDirectory restored, max_page_id=0 max_applied_ver=0"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:49.023 +08:00] [INFO] [RegionPersister.cpp:357] ["RegionPersister running. Current Run Mode is ONLY_V3"] [thread_id=1]
[2023/08/16 18:28:49.023 +08:00] [INFO] [KVStore.cpp:72] ["Restored 0 regions"] [thread_id=1]
[2023/08/16 18:28:49.024 +08:00] [WARN] [ProxyFFI.cpp:863] ["Set mock rust ptr gc function"] [source=MockSetRustGcHelper] [thread_id=1]
[2023/08/16 18:28:49.024 +08:00] [INFO] [PageStorageImpl.cpp:61] ["PageStorageImpl start. Config{ PageStorageConfig {blob_file_limit_size: 268435456, blob_spacemap_type: 2, blob_heavy_gc_valid_rate: 0.500, blob_heavy_gc_valid_rate_raft_data: 0.050, blob_block_alignment_bytes: 0, wal_roll_size: 2097152, wal_max_persisted_log_files: 4} }"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:49.024 +08:00] [INFO] [BlobStore.cpp:123] ["Ignore not blob file [dir=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/region_kvs_test/page/kvstore] [file=wal] [err_msg=]"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:49.024 +08:00] [INFO] [PageDirectoryFactory.cpp:68] ["PageDirectory restored, max_page_id=0 max_applied_ver=0"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:49.024 +08:00] [INFO] [RegionPersister.cpp:357] ["RegionPersister running. Current Run Mode is ONLY_V3"] [thread_id=1]
[2023/08/16 18:28:49.024 +08:00] [INFO] [KVStore.cpp:72] ["Restored 0 regions"] [thread_id=1]
[2023/08/16 18:28:49.028 +08:00] [INFO] [KVStore.cpp:904] ["Set store info id: 1234"] [thread_id=1]
[2023/08/16 18:28:49.029 +08:00] [INFO] [StorageDeltaMerge.cpp:128] ["updateTableColumnInfo, table_name=test_table ordinary=\"columns format version: 1\n1 columns:\n`_tidb_rowid` Int64\n\" materialized=\"columns format version: 1\n0 columns:\n\""] [source=default.test_table] [thread_id=1]
[2023/08/16 18:28:49.030 +08:00] [DEBUG] [PartitionStreams.cpp:436] ["Get schema, keyspace=4294967295 table_id=101"] [source="std::tuple<TableLockHolder, std::shared_ptr<StorageDeltaMerge>, DecodingStorageSchemaSnapshotConstPtr> DB::AtomicGetStorageSchema(const DB::RegionPtr &, DB::TMTContext &)"] [thread_id=1]
[2023/08/16 18:28:49.031 +08:00] [INFO] [DeltaMergeStore.cpp:235] ["Restore DeltaMerge Store start"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.031 +08:00] [DEBUG] [DeltaMergeStore.cpp:1919] ["Loading dt files"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.031 +08:00] [TRACE] [StoragePool.cpp:805] ["Finished StoragePool restore. [current_run_mode=2] [ns_id=101] [max_log_page_id=0] [max_data_page_id=150] [max_meta_page_id=90]"] [source=default.test_table] [thread_id=1]
[2023/08/16 18:28:49.031 +08:00] [INFO] [DeltaMergeStore.cpp:305] ["Restore DeltaMerge Store end, ps_run_mode=ONLY_V3"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.031 +08:00] [INFO] [SSTReader.h:119] ["Open sst file first 19 range [7480000000000000FF655F728000000000FF0000000000000000FA,7480000000000000FF655F728000000000FF0027100000000000FA]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.031 +08:00] [INFO] [SSTReader.h:119] ["Open sst file first 19 range [7480000000000000FF655F728000000000FF0000000000000000FA,7480000000000000FF655F728000000000FF0027100000000000FA]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.031 +08:00] [INFO] [SSTFilesToBlockInputStream.cpp:128] ["Finish Construct MultiSSTReader, write=1 lock=0 default=1 region_id=19"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.034 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=default] [offset=80] [write_cf_offset=80] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.034 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=lock] [offset=0] [write_cf_offset=80] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.036 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=default] [offset=80] [write_cf_offset=80] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.036 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=lock] [offset=0] [write_cf_offset=80] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.036 +08:00] [WARN] [StoragePool.cpp:988] ["The DTFile is already exists, continute to acquire another ID. [call=std::tuple<String, PageIdU64> DB::DM::DeltaMergeStore::preAllocateIngestFile()][path=<mock for existed path>] [id=151]"] [source=default.test_table] [thread_id=1]
[2023/08/16 18:28:49.043 +08:00] [DEBUG] [SSTFilesToDTFilesOutputStream.cpp:198] ["Create new DTFile for snapshot data, region_id=19 file_idx=0 file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table/stable/.tmp.dmf_152"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.047 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=152] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=1702] [reported_size=740]"] [thread_id=1]
[2023/08/16 18:28:49.048 +08:00] [INFO] [SSTFilesToDTFilesOutputStream.cpp:233] ["Finished writing DTFile from snapshot data, region=[region_id=19 applied_term=5 applied_index=8] file_idx=0 file_rows=80 file_bytes=1360 data_range=[20,100) file_bytes_on_disk=740 file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table/stable/dmf_152"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.048 +08:00] [INFO] [SSTFilesToDTFilesOutputStream.cpp:127] ["Transformed snapshot in SSTFile to DTFiles, region=[region_id=19 applied_term=5 applied_index=8] job_type=ApplySnapshot cost_ms=16 rows=80 bytes=1360 write_cf_keys=80 default_cf_keys=80 lock_cf_keys=0 dt_files=[files_num=1 dmf_152]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.048 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 80, pass: 100.00%, complete pass: 100.00%, complete not pass: 0.00%, not clean: 0.00%, is deleted: 0.00%, effective: 100.00%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.049 +08:00] [INFO] [ApplySnapshot.cpp:492] ["Begin apply snapshot, new_region=[region_id=19 applied_term=5 applied_index=8]"] [thread_id=1]
[2023/08/16 18:28:49.051 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:699] ["Table ingest files - begin, use_split_replace=true files=[<file=dmf_152 range=[20,100)>] rows=80 bytes=1360 bytes_on_disk=740 range=[0,10000) clear=true"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.051 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.152"] [thread_id=1]
[2023/08/16 18:28:49.051 +08:00] [INFO] [WALStore.cpp:143] ["Creating log file for writing [fullname=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/data/wal/log_7_0]"] [source=__global__.data] [thread_id=1]
[2023/08/16 18:28:49.051 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:241] ["Table ingest using split - delete range phase - begin, remaining_delete_range=[0,10000)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.052 +08:00] [INFO] [DeltaMergeStore.cpp:2102] ["creating the first segment with segment_id=1"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.057 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=153] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.057 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.153"] [thread_id=1]
[2023/08/16 18:28:49.057 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.93,101.92,101.93,101.1"] [thread_id=1]
[2023/08/16 18:28:49.058 +08:00] [INFO] [WALStore.cpp:143] ["Creating log file for writing [fullname=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/page/meta/wal/log_7_0]"] [source=__global__.meta] [thread_id=1]
[2023/08/16 18:28:49.058 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:264] ["Table ingest using split - delete range phase - Try to delete range in segment, delete_range=[0,10000) segment=<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807)> remaining_delete_range=[0,10000) updated_segments_n=0"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.058 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[0,10000)"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.058 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:282] ["Table ingest using split - delete range phase - finished, updated_segments_n=1"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.058 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:315] ["Table ingest using split - split ingest phase - begin, ingest_range=[0,10000), files_n=1"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.058 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:375] ["Table ingest using split - split ingest phase - Try to ingest file into segment, file_idx=0 file_id=dmf_152 file_ingest_range=[20,100) segment=<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807)> segment_ingest_range=[20,100)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.058 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:54] ["Split - Begin, mode=Logical reason=ForIngest force_split_at=20 safe_point=0 segment=<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.059 +08:00] [DEBUG] [Segment.cpp:1661] ["Split - SplitLogical - Begin prepare, opt_split_point=20"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.062 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[-9223372036854775808,20)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.062 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20,9223372036854775807)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.062 +08:00] [DEBUG] [Segment.cpp:1751] ["Split - SplitLogical - Finish prepare, segment=<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> split_point=20"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.062 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : 101.154 > 101.153,101.155 > 101.153"] [thread_id=1]
[2023/08/16 18:28:49.063 +08:00] [DEBUG] [Segment.cpp:1897] ["Split - SplitLogical - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.063 +08:00] [DEBUG] [Segment.cpp:1962] ["Split - SplitLogical - Finish apply, old_me=<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=1 epoch=1 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_other=<segment_id=95 epoch=0 range=[20,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.063 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.92,101.93,101.1,101.96,101.94,101.95"] [thread_id=1]
[2023/08/16 18:28:49.063 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.064 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:206] ["Split - SplitLogical - Finish, segment is split into two, old_segment=<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807) abandoned=true next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_left=<segment_id=1 epoch=1 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_right=<segment_id=95 epoch=0 range=[20,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.064 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.153,X101.153"] [thread_id=1]
[2023/08/16 18:28:49.064 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:375] ["Table ingest using split - split ingest phase - Try to ingest file into segment, file_idx=0 file_id=dmf_152 file_ingest_range=[20,100) segment=<segment_id=95 epoch=0 range=[20,9223372036854775807)> segment_ingest_range=[20,100)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.064 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:54] ["Split - Begin, mode=Logical reason=ForIngest force_split_at=100 safe_point=0 segment=<segment_id=95 epoch=0 range=[20,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.064 +08:00] [DEBUG] [Segment.cpp:1661] ["Split - SplitLogical - Begin prepare, opt_split_point=100"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.068 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20,100)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.068 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[100,9223372036854775807)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.068 +08:00] [DEBUG] [Segment.cpp:1751] ["Split - SplitLogical - Finish prepare, segment=<segment_id=95 epoch=0 range=[20,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> split_point=100"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.068 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : 101.156 > 101.155,101.157 > 101.155"] [thread_id=1]
[2023/08/16 18:28:49.068 +08:00] [DEBUG] [Segment.cpp:1897] ["Split - SplitLogical - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.068 +08:00] [DEBUG] [Segment.cpp:1962] ["Split - SplitLogical - Finish apply, old_me=<segment_id=95 epoch=0 range=[20,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=95 epoch=1 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_other=<segment_id=98 epoch=0 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.069 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.96,101.94,101.95,101.99,101.97,101.98"] [thread_id=1]
[2023/08/16 18:28:49.069 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=95 epoch=0 range=[20,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.069 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:206] ["Split - SplitLogical - Finish, segment is split into two, old_segment=<segment_id=95 epoch=0 range=[20,9223372036854775807) abandoned=true next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_left=<segment_id=95 epoch=1 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_right=<segment_id=98 epoch=0 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.069 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.155,X101.155"] [thread_id=1]
[2023/08/16 18:28:49.069 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:375] ["Table ingest using split - split ingest phase - Try to ingest file into segment, file_idx=0 file_id=dmf_152 file_ingest_range=[20,100) segment=<segment_id=95 epoch=1 range=[20,100)> segment_ingest_range=[20,100)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.071 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : 101.158 > 101.152"] [thread_id=1]
[2023/08/16 18:28:49.071 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:539] ["IngestData - Begin, data_file=dmf_152 clear_all_data_in_seg=true segment=<segment_id=95 epoch=1 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.071 +08:00] [DEBUG] [Segment.cpp:1226] ["ReplaceData - Begin, snapshot_rows=<none> data_file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table/stable/dmf_152"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.072 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20,100)}, read_packs: 0, pack_count: 1"] [thread_id=1]
[2023/08/16 18:28:49.072 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.96,101.94,101.95"] [thread_id=1]
[2023/08/16 18:28:49.076 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.156"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [DEBUG] [Segment.cpp:1263] ["ReplaceData - Finish, old_me=<segment_id=95 epoch=1 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=95 epoch=2 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_152 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=95 epoch=1 range=[20,100)>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:613] ["IngestData - Finish, new segment is created, old_segment=<segment_id=95 epoch=1 range=[20,100) abandoned=true next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_segment=<segment_id=95 epoch=2 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_152 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:401] ["Table ingest using split - split ingest phase - finished, updated_segments_n=2"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [TRACE] [WriteBatchesImpl.h:176] ["Rollback remove from data_wb : X101.152"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:789] ["Table ingest files - finished ingested files into segments, ingested_files=[<file=dmf_152 range=[20,100)>] updated_segments=[<segment_id=95 epoch=1 range=[20,100) abandoned=true>,<segment_id=1 epoch=0 range=[-9223372036854775808,9223372036854775807) abandoned=true>] clear=true"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [92]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.92"] [thread_id=1]
[2023/08/16 18:28:49.077 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [92]: 1 column files, 0 rows, 0 bytes, 1 deletes., after append 1 column files, persisted column files: [D_[0,20)]"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [92]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [96]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [DEBUG] [DeltaValueSpace.cpp:351] ["Flush cancel because nothing to flush, delta=<delta_id=96>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [99]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.99"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [99]: 1 column files, 0 rows, 0 bytes, 1 deletes., after append 1 column files, persisted column files: [D_[100,10000)]"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [99]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [INFO] [RegionTable.cpp:49] ["get new table, keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [INFO] [RegionTable.cpp:394] ["insert internal region, keyspace=4294967295 table_id=101 region_id=19"] [thread_id=1]
[2023/08/16 18:28:49.078 +08:00] [INFO] [KVStore.cpp:325] ["Start to persist [region_id=19 applied_term=5 applied_index=8], cache size: 0 bytes for `save current region after apply`"] [thread_id=1]
[2023/08/16 18:28:49.079 +08:00] [INFO] [BlobStat.cpp:136] ["Created a new BlobStat [blob_id=10] [capacity=268435456]"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:49.079 +08:00] [INFO] [WALStore.cpp:143] ["Creating log file for writing [fullname=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/region_kvs_test/page/kvstore/wal/log_1_0]"] [source=RegionPersister] [thread_id=1]
[2023/08/16 18:28:49.080 +08:00] [DEBUG] [KVStore.cpp:327] ["Persist [region_id=19] done"] [thread_id=1]
[2023/08/16 18:28:49.080 +08:00] [INFO] [ApplySnapshot.cpp:503] ["Finish apply snapshot, new_region=[region_id=19 applied_term=5 applied_index=8]"] [thread_id=1]
[2023/08/16 18:28:49.080 +08:00] [INFO] [DeltaMergeStore.cpp:773] ["Begin table mergeDeltaAll"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.080 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=Manual safe_point=0 segment=<segment_id=1 epoch=1 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.080 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=1 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.080 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.080 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.081 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[0,20)}, read_packs: 0, pack_count: 0"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.081 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.081 +08:00] [DEBUG] [Segment.cpp:2546] ["Finish segment ensurePlace, read_ranges={[-9223372036854775808,20)} placed_items=1 shared_delta_index=<placed_rows=0 placed_deletes=0 tree_entries=0 tree_inserts=0 tree_deletes=0> my_delta_index=<placed_rows=0 placed_deletes=1 tree_entries=0 tree_inserts=0 tree_deletes=0>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.081 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.081 +08:00] [DEBUG] [Segment.cpp:2340] ["Segment updated delta index"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.081 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.081 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[-9223372036854775808,20)}, read_packs: 0, pack_count: 0"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.086 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=159] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.086 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=1 epoch=1 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.086 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.086 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.159"] [thread_id=1]
[2023/08/16 18:28:49.086 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.087 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=1 epoch=1 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=1 epoch=2 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_159 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.087 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.93,101.92,101.1"] [thread_id=1]
[2023/08/16 18:28:49.087 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=1 epoch=1 range=[-9223372036854775808,20)>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.087 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.087 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=1 epoch=1 range=[-9223372036854775808,20) abandoned=true next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_159 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.087 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.154"] [thread_id=1]
[2023/08/16 18:28:49.087 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=Manual safe_point=0 segment=<segment_id=95 epoch=2 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_152 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.088 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=0 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.088 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.088 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.088 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.088 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20,100)}, read_packs: 0, pack_count: 1"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.089 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.089 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.090 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 36, estimated read size: 36, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.098 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=160] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=1702] [reported_size=740]"] [thread_id=1]
[2023/08/16 18:28:49.098 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=95 epoch=2 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_152 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.098 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 80, pass: 100.00%, complete pass: 100.00%, complete not pass: 0.00%, not clean: 0.00%, is deleted: 0.00%, effective: 100.00%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.099 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.160"] [thread_id=1]
[2023/08/16 18:28:49.099 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.099 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=95 epoch=2 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_152 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1> new_me=<segment_id=95 epoch=3 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_160 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.099 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.94,101.96,101.95"] [thread_id=1]
[2023/08/16 18:28:49.099 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=95 epoch=2 range=[20,100)>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.099 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=95 epoch=2 range=[20,100) abandoned=true next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_152 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1> new_segment=<segment_id=95 epoch=3 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_160 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.158"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=Manual safe_point=0 segment=<segment_id=98 epoch=0 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=1 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[100,10000)}, read_packs: 0, pack_count: 0"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [DEBUG] [Segment.cpp:2546] ["Finish segment ensurePlace, read_ranges={[100,9223372036854775807)} placed_items=1 shared_delta_index=<placed_rows=0 placed_deletes=0 tree_entries=0 tree_inserts=0 tree_deletes=0> my_delta_index=<placed_rows=0 placed_deletes=1 tree_entries=0 tree_inserts=0 tree_deletes=0>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.100 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.101 +08:00] [DEBUG] [Segment.cpp:2340] ["Segment updated delta index"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0 mergeDeltaAll"] [thread_id=1]
[2023/08/16 18:28:49.101 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.101 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[100,9223372036854775807)}, read_packs: 0, pack_count: 0"] [source=mergeDeltaAll] [thread_id=1]
[2023/08/16 18:28:49.101 +08:00] [WARN] [StoragePool.cpp:988] ["The DTFile is already exists, continute to acquire another ID. [call=DB::DM::StableValueSpacePtr DB::DM::createNewStable(DB::DM::DMContext &, const DB::DM::ColumnDefinesPtr &, const DB::BlockInputStreamPtr &, DB::PageIdU64, DB::DM::WriteBatches &)][path=<mock for existed path>] [id=161]"] [source=default.test_table] [thread_id=1]
[2023/08/16 18:28:49.106 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=162] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.106 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=98 epoch=0 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.106 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.106 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.162"] [thread_id=1]
[2023/08/16 18:28:49.106 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.106 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=98 epoch=0 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=98 epoch=1 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.106 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.97,101.99,101.98"] [thread_id=1]
[2023/08/16 18:28:49.107 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=98 epoch=0 range=[100,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.107 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.107 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=98 epoch=0 range=[100,9223372036854775807) abandoned=true next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_153 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_segment=<segment_id=98 epoch=1 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.107 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.157"] [thread_id=1]
[2023/08/16 18:28:49.107 +08:00] [INFO] [DeltaMergeStore.cpp:794] ["Finish table mergeDeltaAll: true"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.110 +08:00] [DEBUG] [PartitionStreams.cpp:436] ["Get schema, keyspace=4294967295 table_id=101"] [source="std::tuple<TableLockHolder, std::shared_ptr<StorageDeltaMerge>, DecodingStorageSchemaSnapshotConstPtr> DB::AtomicGetStorageSchema(const DB::RegionPtr &, DB::TMTContext &)"] [thread_id=1]
[2023/08/16 18:28:49.110 +08:00] [INFO] [SSTReader.h:119] ["Open sst file first 19 range [7480000000000000FF655F728000000000FF004E200000000000FA,7480000000000000FF655F728000000000FF00C3500000000000FA]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.110 +08:00] [INFO] [SSTReader.h:119] ["Open sst file first 19 range [7480000000000000FF655F728000000000FF004E200000000000FA,7480000000000000FF655F728000000000FF00C3500000000000FA]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.110 +08:00] [INFO] [SSTFilesToBlockInputStream.cpp:128] ["Finish Construct MultiSSTReader, write=1 lock=0 default=1 region_id=19"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.114 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=default] [offset=100] [write_cf_offset=100] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.114 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=lock] [offset=0] [write_cf_offset=100] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.116 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=default] [offset=100] [write_cf_offset=100] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.116 +08:00] [DEBUG] [SSTFilesToBlockInputStream.cpp:236] ["Done loading all kvpairs from [CF=lock] [offset=0] [write_cf_offset=100] [region_id=19]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.118 +08:00] [DEBUG] [SSTFilesToDTFilesOutputStream.cpp:198] ["Create new DTFile for snapshot data, region_id=19 file_idx=0 file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table/stable/.tmp.dmf_163"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.120 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=163] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=1864] [reported_size=902]"] [thread_id=1]
[2023/08/16 18:28:49.121 +08:00] [INFO] [SSTFilesToDTFilesOutputStream.cpp:233] ["Finished writing DTFile from snapshot data, region=[region_id=19 applied_term=5 applied_index=20] file_idx=0 file_rows=100 file_bytes=1700 data_range=[20100,20200) file_bytes_on_disk=902 file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table/stable/dmf_163"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.121 +08:00] [INFO] [SSTFilesToDTFilesOutputStream.cpp:127] ["Transformed snapshot in SSTFile to DTFiles, region=[region_id=19 applied_term=5 applied_index=20] job_type=ApplySnapshot cost_ms=11 rows=100 bytes=1700 write_cf_keys=100 default_cf_keys=100 lock_cf_keys=0 dt_files=[files_num=1 dmf_163]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.121 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 100, pass: 100.00%, complete pass: 100.00%, complete not pass: 0.00%, not clean: 0.00%, is deleted: 0.00%, effective: 100.00%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [INFO] [ApplySnapshot.cpp:492] ["Begin apply snapshot, new_region=[region_id=19 applied_term=5 applied_index=20]"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [INFO] [ApplySnapshot.cpp:86] ["[region_id=19 applied_term=5 applied_index=8] set state to `Applying`"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [92]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [DEBUG] [DeltaValueSpace.cpp:351] ["Flush cancel because nothing to flush, delta=<delta_id=92>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [96]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [DEBUG] [DeltaValueSpace.cpp:351] ["Flush cancel because nothing to flush, delta=<delta_id=96>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [99]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [DEBUG] [DeltaValueSpace.cpp:351] ["Flush cancel because nothing to flush, delta=<delta_id=99>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.122 +08:00] [INFO] [KVStore.cpp:325] ["Start to persist [region_id=19 applied_term=5 applied_index=8], cache size: 0 bytes for `save previous region before apply`"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [DEBUG] [KVStore.cpp:327] ["Persist [region_id=19] done"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [INFO] [ApplySnapshot.cpp:179] ["clear old range before apply snapshot, region_id=19 old_range=[0,10000) new_range=[20000,50000)"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [INFO] [DeltaMergeStore.cpp:674] ["Table delete range, range=[0,10000)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[0,20)"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[20,100)"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[100,10000)"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [92]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.92"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [92]: 1 column files, 0 rows, 0 bytes, 1 deletes., after append 1 column files, persisted column files: [D_[0,20)]"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [92]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.123 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [96]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.124 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.96"] [thread_id=1]
[2023/08/16 18:28:49.124 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [96]: 1 column files, 0 rows, 0 bytes, 1 deletes., after append 1 column files, persisted column files: [D_[20,100)]"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.124 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [96]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.124 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [99]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.124 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.99"] [thread_id=1]
[2023/08/16 18:28:49.124 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [99]: 1 column files, 0 rows, 0 bytes, 1 deletes., after append 1 column files, persisted column files: [D_[100,10000)]"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.124 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [99]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.126 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:699] ["Table ingest files - begin, use_split_replace=true files=[<file=dmf_163 range=[20100,20200)>] rows=100 bytes=1700 bytes_on_disk=902 range=[20000,50000) clear=true"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.126 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.163"] [thread_id=1]
[2023/08/16 18:28:49.126 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:241] ["Table ingest using split - delete range phase - begin, remaining_delete_range=[20000,50000)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.126 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:264] ["Table ingest using split - delete range phase - Try to delete range in segment, delete_range=[20000,50000) segment=<segment_id=98 epoch=1 range=[100,9223372036854775807)> remaining_delete_range=[20000,50000) updated_segments_n=0"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.126 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[20000,50000)"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.127 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:282] ["Table ingest using split - delete range phase - finished, updated_segments_n=1"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.127 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:315] ["Table ingest using split - split ingest phase - begin, ingest_range=[20000,50000), files_n=1"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.127 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:375] ["Table ingest using split - split ingest phase - Try to ingest file into segment, file_idx=0 file_id=dmf_163 file_ingest_range=[20100,20200) segment=<segment_id=98 epoch=1 range=[100,9223372036854775807)> segment_ingest_range=[20100,20200)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.127 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:54] ["Split - Begin, mode=Logical reason=ForIngest force_split_at=20100 safe_point=0 segment=<segment_id=98 epoch=1 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.127 +08:00] [DEBUG] [Segment.cpp:1661] ["Split - SplitLogical - Begin prepare, opt_split_point=20100"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.130 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[100,20100)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.130 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20100,9223372036854775807)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.130 +08:00] [DEBUG] [Segment.cpp:1751] ["Split - SplitLogical - Finish prepare, segment=<segment_id=98 epoch=1 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> split_point=20100"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.131 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : 101.164 > 101.162,101.165 > 101.162"] [thread_id=1]
[2023/08/16 18:28:49.131 +08:00] [DEBUG] [Segment.cpp:1897] ["Split - SplitLogical - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.131 +08:00] [DEBUG] [Segment.cpp:1962] ["Split - SplitLogical - Finish apply, old_me=<segment_id=98 epoch=1 range=[100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=98 epoch=2 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_other=<segment_id=101 epoch=0 range=[20100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.131 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.99,101.97,101.98,101.102,101.100,101.101"] [thread_id=1]
[2023/08/16 18:28:49.132 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=98 epoch=1 range=[100,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.132 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:206] ["Split - SplitLogical - Finish, segment is split into two, old_segment=<segment_id=98 epoch=1 range=[100,9223372036854775807) abandoned=true next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_left=<segment_id=98 epoch=2 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_right=<segment_id=101 epoch=0 range=[20100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.132 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.162,X101.162"] [thread_id=1]
[2023/08/16 18:28:49.132 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:375] ["Table ingest using split - split ingest phase - Try to ingest file into segment, file_idx=0 file_id=dmf_163 file_ingest_range=[20100,20200) segment=<segment_id=101 epoch=0 range=[20100,9223372036854775807)> segment_ingest_range=[20100,20200)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.132 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:54] ["Split - Begin, mode=Logical reason=ForIngest force_split_at=20200 safe_point=0 segment=<segment_id=101 epoch=0 range=[20100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.132 +08:00] [DEBUG] [Segment.cpp:1661] ["Split - SplitLogical - Begin prepare, opt_split_point=20200"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.136 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20100,20200)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.136 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20200,9223372036854775807)}, read_packs: 0, pack_count: 0"] [thread_id=1]
[2023/08/16 18:28:49.136 +08:00] [DEBUG] [Segment.cpp:1751] ["Split - SplitLogical - Finish prepare, segment=<segment_id=101 epoch=0 range=[20100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> split_point=20200"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.136 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : 101.166 > 101.165,101.167 > 101.165"] [thread_id=1]
[2023/08/16 18:28:49.136 +08:00] [DEBUG] [Segment.cpp:1897] ["Split - SplitLogical - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.136 +08:00] [DEBUG] [Segment.cpp:1962] ["Split - SplitLogical - Finish apply, old_me=<segment_id=101 epoch=0 range=[20100,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=101 epoch=1 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_other=<segment_id=104 epoch=0 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.136 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.102,101.100,101.101,101.105,101.103,101.104"] [thread_id=1]
[2023/08/16 18:28:49.137 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=101 epoch=0 range=[20100,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.137 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:206] ["Split - SplitLogical - Finish, segment is split into two, old_segment=<segment_id=101 epoch=0 range=[20100,9223372036854775807) abandoned=true next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_left=<segment_id=101 epoch=1 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_right=<segment_id=104 epoch=0 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.137 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.165,X101.165"] [thread_id=1]
[2023/08/16 18:28:49.137 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:375] ["Table ingest using split - split ingest phase - Try to ingest file into segment, file_idx=0 file_id=dmf_163 file_ingest_range=[20100,20200) segment=<segment_id=101 epoch=1 range=[20100,20200)> segment_ingest_range=[20100,20200)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.139 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : 101.168 > 101.163"] [thread_id=1]
[2023/08/16 18:28:49.139 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:539] ["IngestData - Begin, data_file=dmf_163 clear_all_data_in_seg=true segment=<segment_id=101 epoch=1 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.139 +08:00] [DEBUG] [Segment.cpp:1226] ["ReplaceData - Begin, snapshot_rows=<none> data_file=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table/stable/dmf_163"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.140 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20100,20200)}, read_packs: 0, pack_count: 1"] [thread_id=1]
[2023/08/16 18:28:49.140 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.102,101.100,101.101"] [thread_id=1]
[2023/08/16 18:28:49.140 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.166"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [DEBUG] [Segment.cpp:1263] ["ReplaceData - Finish, old_me=<segment_id=101 epoch=1 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=101 epoch=2 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_163 stable_rows=100 stable_bytes=1700 dmf_rows=100 dmf_bytes=1700 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=101 epoch=1 range=[20100,20200)>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:613] ["IngestData - Finish, new segment is created, old_segment=<segment_id=101 epoch=1 range=[20100,20200) abandoned=true next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_segment=<segment_id=101 epoch=2 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_163 stable_rows=100 stable_bytes=1700 dmf_rows=100 dmf_bytes=1700 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [DEBUG] [DeltaMergeStore_Ingest.cpp:401] ["Table ingest using split - split ingest phase - finished, updated_segments_n=2"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [TRACE] [WriteBatchesImpl.h:176] ["Rollback remove from data_wb : X101.163"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [INFO] [DeltaMergeStore_Ingest.cpp:789] ["Table ingest files - finished ingested files into segments, ingested_files=[<file=dmf_163 range=[20100,20200)>] updated_segments=[<segment_id=101 epoch=1 range=[20100,20200) abandoned=true>,<segment_id=98 epoch=1 range=[100,9223372036854775807) abandoned=true>] clear=true"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [99]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.99"] [thread_id=1]
[2023/08/16 18:28:49.141 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [99]: 2 column files, 0 rows, 0 bytes, 2 deletes., after append 1 column files, persisted column files: [D_[100,10000),D_[20000,20100)]"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.142 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [99]: 2 column files, 0 rows, 0 bytes, 2 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.142 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [102]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.142 +08:00] [DEBUG] [DeltaValueSpace.cpp:351] ["Flush cancel because nothing to flush, delta=<delta_id=102>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.142 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [105]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.142 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.105"] [thread_id=1]
[2023/08/16 18:28:49.142 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [105]: 1 column files, 0 rows, 0 bytes, 1 deletes., after append 1 column files, persisted column files: [D_[20200,50000)]"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.142 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [105]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.146 +08:00] [DEBUG] [ApplySnapshot.cpp:265] ["previous [region_id=19 index=8 table_id=101 ver=6 conf_ver=0 state=Applying peer=id: 2], new [region_id=19 index=20 table_id=101 ver=6 conf_ver=0 state=Normal peer=id: 2]"] [thread_id=1]
[2023/08/16 18:28:49.146 +08:00] [INFO] [KVStore.cpp:325] ["Start to persist [region_id=19 applied_term=5 applied_index=20], cache size: 0 bytes for `save current region after apply`"] [thread_id=1]
[2023/08/16 18:28:49.147 +08:00] [DEBUG] [KVStore.cpp:327] ["Persist [region_id=19] done"] [thread_id=1]
[2023/08/16 18:28:49.147 +08:00] [INFO] [ApplySnapshot.cpp:503] ["Finish apply snapshot, new_region=[region_id=19 applied_term=5 applied_index=8]"] [thread_id=1]
[2023/08/16 18:28:49.152 +08:00] [INFO] [Region.cpp:329] ["[region_id=19 applied_term=5 applied_index=20] execute admin command ChangePeerV2 at [term: 6, index: 21]"] [thread_id=1]
[2023/08/16 18:28:49.152 +08:00] [INFO] [Region.cpp:146] ["[region_id=19] execute change peer cmd: "] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [INFO] [Region.cpp:148] ["After execute change peer cmd, current region info: [region_id=19 index=21 table_id=101 ver=6 conf_ver=0 state=Tombstone peer=id: 2]"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [INFO] [KVStore.cpp:209] ["Start to remove region_id=19"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [INFO] [KVStore.cpp:232] ["Persisted region_id=19 deleted"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [INFO] [RegionTable.cpp:221] ["remove region in RegionTable done, region_id=19"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [INFO] [DeltaMergeStore.cpp:674] ["Table delete range, range=[20000,50000)"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[20000,20100)"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[20100,20200)"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [TRACE] [Segment.cpp:558] ["Segment write delete range, delete_range=[20200,50000)"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [99]: 2 column files, 0 rows, 0 bytes, 2 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.99"] [thread_id=1]
[2023/08/16 18:28:49.153 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [99]: 3 column files, 0 rows, 0 bytes, 3 deletes., after append 1 column files, persisted column files: [D_[100,10000),D_[20000,20100),D_[20000,20100)]"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [99]: 3 column files, 0 rows, 0 bytes, 3 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [102]: 0 column files, 0 rows, 0 bytes, 0 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.102"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [102]: 1 column files, 0 rows, 0 bytes, 1 deletes., after append 1 column files, persisted column files: [D_[20100,20200)]"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [102]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [DEBUG] [DeltaValueSpace.cpp:323] ["Flush start, delta=MemTableSet: 1 column files, 0 rows, 0 bytes, 1 deletes. ColumnFilePersistedSet [105]: 1 column files, 0 rows, 0 bytes, 1 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.105"] [thread_id=1]
[2023/08/16 18:28:49.154 +08:00] [DEBUG] [ColumnFilePersistedSet.cpp:268] ["ColumnFilePersistedSet [105]: 2 column files, 0 rows, 0 bytes, 2 deletes., after append 1 column files, persisted column files: [D_[20200,50000),D_[20200,50000)]"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [DEBUG] [DeltaValueSpace.cpp:401] ["Flush end, flush_tasks=1 flush_rows=0 flush_deletes=1 delta=MemTableSet: 0 column files, 0 rows, 0 bytes, 0 deletes. ColumnFilePersistedSet [105]: 2 column files, 0 rows, 0 bytes, 2 deletes."] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [INFO] [RegionTable.cpp:234] ["remove region in storage done, region_id=19"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [INFO] [KVStore.cpp:236] ["Remove region_id=19 done"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:873] ["GC on table start, table=test_table check_key=-9223372036854775808 options=<merge=true merge_delta=true update_safe_point=false> gc_safe_point=0 max_gc_limit=100"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:706] ["GC - Merge skipped because cannot find adjacent segments to merge, segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:535] ["GC - Checking shouldCompactDeltaWithStable, check_result=true delete_rows=0, delete_bytes=0 stable_rows=0 stable_bytes=0 segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20)>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [INFO] [DeltaMergeStore_InternalBg.cpp:828] ["GC - Trigger MergeDelta, compact_reason=TooManyDeleteRange segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=BackgroundGCThread safe_point=0 segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_159 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=1 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.155 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[0,20)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.156 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.156 +08:00] [DEBUG] [Segment.cpp:2546] ["Finish segment ensurePlace, read_ranges={[-9223372036854775808,20)} placed_items=1 shared_delta_index=<placed_rows=0 placed_deletes=0 tree_entries=0 tree_inserts=0 tree_deletes=0> my_delta_index=<placed_rows=0 placed_deletes=1 tree_entries=0 tree_inserts=0 tree_deletes=0>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.156 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.156 +08:00] [DEBUG] [Segment.cpp:2340] ["Segment updated delta index"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.156 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.156 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[-9223372036854775808,20)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.161 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=169] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.161 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_159 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.161 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.161 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.169"] [thread_id=1]
[2023/08/16 18:28:49.162 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.162 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=1 epoch=2 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_159 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=1 epoch=3 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_169 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.162 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.93,101.92,101.1"] [thread_id=1]
[2023/08/16 18:28:49.162 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20)>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.162 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.162 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=1 epoch=2 range=[-9223372036854775808,20) abandoned=true next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_159 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_segment=<segment_id=1 epoch=3 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_169 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.162 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.159"] [thread_id=1]
[2023/08/16 18:28:49.163 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:695] ["GC - Merge skipped because current segment is not small, segment=<segment_id=95 epoch=3 range=[20,100)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.163 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20,100)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.163 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:535] ["GC - Checking shouldCompactDeltaWithStable, check_result=true delete_rows=80, delete_bytes=1360 stable_rows=80 stable_bytes=1360 segment=<segment_id=95 epoch=3 range=[20,100)>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.163 +08:00] [INFO] [DeltaMergeStore_InternalBg.cpp:828] ["GC - Trigger MergeDelta, compact_reason=TooManyDeleteRange segment=<segment_id=95 epoch=3 range=[20,100)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.163 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=BackgroundGCThread safe_point=0 segment=<segment_id=95 epoch=3 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_160 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.163 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=1 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.164 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.164 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.164 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20,100)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.164 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.165 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.165 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.166 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.166 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20,9223372036854775807)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.167 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.167 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.168 +08:00] [DEBUG] [Segment.cpp:2546] ["Finish segment ensurePlace, read_ranges={[20,100)} placed_items=1 shared_delta_index=<placed_rows=0 placed_deletes=0 tree_entries=0 tree_inserts=0 tree_deletes=0> my_delta_index=<placed_rows=0 placed_deletes=1 tree_entries=1 tree_inserts=0 tree_deletes=80>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.168 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.168 +08:00] [DEBUG] [Segment.cpp:2340] ["Segment updated delta index"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.168 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.169 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20,100)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.169 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.170 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 352, estimated read size: 352, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.170 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 36, estimated read size: 36, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.173 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=170] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.174 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=95 epoch=3 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_160 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.174 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.174 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.170"] [thread_id=1]
[2023/08/16 18:28:49.174 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.175 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=95 epoch=3 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_160 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1> new_me=<segment_id=95 epoch=4 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_170 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.175 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.94,101.96,101.95"] [thread_id=1]
[2023/08/16 18:28:49.175 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=95 epoch=3 range=[20,100)>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.175 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.175 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=95 epoch=3 range=[20,100) abandoned=true next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_160 stable_rows=80 stable_bytes=1360 dmf_rows=80 dmf_bytes=1360 dmf_packs=1> new_segment=<segment_id=95 epoch=4 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_170 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.175 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.160"] [thread_id=1]
[2023/08/16 18:28:49.175 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:706] ["GC - Merge skipped because cannot find adjacent segments to merge, segment=<segment_id=98 epoch=2 range=[100,20100)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:535] ["GC - Checking shouldCompactDeltaWithStable, check_result=true delete_rows=0, delete_bytes=0 stable_rows=0 stable_bytes=0 segment=<segment_id=98 epoch=2 range=[100,20100)>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [INFO] [DeltaMergeStore_InternalBg.cpp:828] ["GC - Trigger MergeDelta, compact_reason=TooManyDeleteRange segment=<segment_id=98 epoch=2 range=[100,20100)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=BackgroundGCThread safe_point=0 segment=<segment_id=98 epoch=2 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=3 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=3 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[100,10000)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20000,20100)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.176 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20000,20100)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [DEBUG] [Segment.cpp:2546] ["Finish segment ensurePlace, read_ranges={[100,20100)} placed_items=3 shared_delta_index=<placed_rows=0 placed_deletes=0 tree_entries=0 tree_inserts=0 tree_deletes=0> my_delta_index=<placed_rows=0 placed_deletes=3 tree_entries=0 tree_inserts=0 tree_deletes=0>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [DEBUG] [Segment.cpp:2340] ["Segment updated delta index"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[100,20100)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.177 +08:00] [WARN] [StoragePool.cpp:988] ["The DTFile is already exists, continute to acquire another ID. [call=DB::DM::StableValueSpacePtr DB::DM::createNewStable(DB::DM::DMContext &, const DB::DM::ColumnDefinesPtr &, const DB::BlockInputStreamPtr &, DB::PageIdU64, DB::DM::WriteBatches &)][path=<mock for existed path>] [id=171]"] [source=default.test_table] [thread_id=1]
[2023/08/16 18:28:49.182 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=172] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.182 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=98 epoch=2 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=3 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.182 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.182 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.172"] [thread_id=1]
[2023/08/16 18:28:49.183 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.183 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=98 epoch=2 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=3 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=98 epoch=3 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_172 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.183 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.97,101.99,101.98"] [thread_id=1]
[2023/08/16 18:28:49.183 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=98 epoch=2 range=[100,20100)>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.183 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.183 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=98 epoch=2 range=[100,20100) abandoned=true next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=3 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_segment=<segment_id=98 epoch=3 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_172 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.183 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.164"] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:695] ["GC - Merge skipped because current segment is not small, segment=<segment_id=101 epoch=2 range=[20100,20200)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20100,20200)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:535] ["GC - Checking shouldCompactDeltaWithStable, check_result=true delete_rows=100, delete_bytes=1700 stable_rows=100 stable_bytes=1700 segment=<segment_id=101 epoch=2 range=[20100,20200)>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [INFO] [DeltaMergeStore_InternalBg.cpp:828] ["GC - Trigger MergeDelta, compact_reason=TooManyDeleteRange segment=<segment_id=101 epoch=2 range=[20100,20200)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=BackgroundGCThread safe_point=0 segment=<segment_id=101 epoch=2 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_163 stable_rows=100 stable_bytes=1700 dmf_rows=100 dmf_bytes=1700 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=1 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.184 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.185 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20100,20200)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.185 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 432, estimated read size: 432, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.186 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 434, estimated read size: 434, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.186 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.187 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.187 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20100,9223372036854775807)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.188 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 432, estimated read size: 432, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.188 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 434, estimated read size: 434, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.189 +08:00] [DEBUG] [Segment.cpp:2546] ["Finish segment ensurePlace, read_ranges={[20100,20200)} placed_items=1 shared_delta_index=<placed_rows=0 placed_deletes=0 tree_entries=0 tree_inserts=0 tree_deletes=0> my_delta_index=<placed_rows=0 placed_deletes=1 tree_entries=1 tree_inserts=0 tree_deletes=100>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.189 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.189 +08:00] [DEBUG] [Segment.cpp:2340] ["Segment updated delta index"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.189 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.190 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: 0.00, after_pk: 1, after_read_packs: 1, after_filter: 1, handle_ranges: {[20100,20200)}, read_packs: 0, pack_count: 1"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.190 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 432, estimated read size: 432, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.190 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 434, estimated read size: 434, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.191 +08:00] [TRACE] [DMFileReader.cpp:201] ["file size: 36, estimated read size: 36, buffer_size: 0 (aio_threshold: 0, max_read_buffer_size: 1048576)"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.195 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=173] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.195 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=101 epoch=2 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_163 stable_rows=100 stable_bytes=1700 dmf_rows=100 dmf_bytes=1700 dmf_packs=1>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.195 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.196 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.173"] [thread_id=1]
[2023/08/16 18:28:49.196 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.196 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=101 epoch=2 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_163 stable_rows=100 stable_bytes=1700 dmf_rows=100 dmf_bytes=1700 dmf_packs=1> new_me=<segment_id=101 epoch=3 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_173 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.196 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.100,101.102,101.101"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=101 epoch=2 range=[20100,20200)>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=2"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=101 epoch=2 range=[20100,20200) abandoned=true next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=1 stable_file=dmf_163 stable_rows=100 stable_bytes=1700 dmf_rows=100 dmf_bytes=1700 dmf_packs=1> new_segment=<segment_id=101 epoch=3 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_173 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.168"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:706] ["GC - Merge skipped because cannot find adjacent segments to merge, segment=<segment_id=104 epoch=0 range=[20200,9223372036854775807)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:535] ["GC - Checking shouldCompactDeltaWithStable, check_result=true delete_rows=0, delete_bytes=0 stable_rows=0 stable_bytes=0 segment=<segment_id=104 epoch=0 range=[20200,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [INFO] [DeltaMergeStore_InternalBg.cpp:828] ["GC - Trigger MergeDelta, compact_reason=TooManyDeleteRange segment=<segment_id=104 epoch=0 range=[20200,9223372036854775807)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.197 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:381] ["MergeDelta - Begin, reason=BackgroundGCThread safe_point=0 segment=<segment_id=104 epoch=0 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [Segment.cpp:1152] ["MergeDelta - Begin prepare, delta_column_files=2 delta_rows=0 delta_bytes=0"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20200,50000)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20200,50000)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [TRACE] [SquashingTransform.cpp:26] ["Squashing config - min_block_size_rows: 0 min_block_size_bytes: 134217728"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [Segment.cpp:2546] ["Finish segment ensurePlace, read_ranges={[20200,9223372036854775807)} placed_items=2 shared_delta_index=<placed_rows=0 placed_deletes=0 tree_entries=0 tree_inserts=0 tree_deletes=0> my_delta_index=<placed_rows=0 placed_deletes=2 tree_entries=0 tree_inserts=0 tree_deletes=0>"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [Segment.cpp:2340] ["Segment updated delta index"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.198 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.199 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20200,9223372036854775807)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.204 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=174] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.204 +08:00] [DEBUG] [Segment.cpp:1166] ["MergeDelta - Finish prepare, segment=<segment_id=104 epoch=0 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.204 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.204 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.174"] [thread_id=1]
[2023/08/16 18:28:49.204 +08:00] [DEBUG] [Segment.cpp:1178] ["MergeDelta - Begin apply"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [DEBUG] [Segment.cpp:1211] ["MergeDelta - Finish apply, old_me=<segment_id=104 epoch=0 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_me=<segment_id=104 epoch=1 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_174 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.103,101.105,101.104"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=104 epoch=0 range=[20200,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=0"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:514] ["MergeDelta - Finish, delta is merged, old_segment=<segment_id=104 epoch=0 range=[20200,9223372036854775807) abandoned=true next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=2 stable_file=dmf_162 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> new_segment=<segment_id=104 epoch=1 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_174 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.167"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [DEBUG] [DeltaMergeStore_InternalBg.cpp:942] ["Finish GC, gc_segments_num=5"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [TRACE] [DeltaMergeStore_InternalBg.cpp:873] ["GC on table start, table=test_table check_key=9223372036854775807 options=<merge=true merge_delta=true update_safe_point=false> gc_safe_point=0 max_gc_limit=100"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.205 +08:00] [INFO] [DeltaMergeStore_InternalBg.cpp:710] ["GC - Trigger Merge, segment=<segment_id=1 epoch=3 range=[-9223372036854775808,20)> table=test_table"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:242] ["Merge - Begin, reason=BackgroundGCThread safe_point=0 segments_to_merge=[5 segments: <segment_id=1 epoch=3 range=[-9223372036854775808,20)>, <segment_id=95 epoch=4 range=[20,100)>, <segment_id=98 epoch=3 range=[100,20100)>, <segment_id=101 epoch=3 range=[20100,20200)>, <segment_id=104 epoch=1 range=[20200,9223372036854775807)>]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [DEBUG] [Segment.cpp:2018] ["Merge - Begin prepare, segments_to_merge=[5 segments: <segment_id=1 epoch=3 range=[-9223372036854775808,20)>, <segment_id=95 epoch=4 range=[20,100)>, <segment_id=98 epoch=3 range=[100,20100)>, <segment_id=101 epoch=3 range=[20100,20200)>, <segment_id=104 epoch=1 range=[20200,9223372036854775807)>]"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[-9223372036854775808,20)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=4 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.206 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=4 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=4"] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20,100)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[100,20100)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=3 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.207 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.208 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20100,20200)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.208 +08:00] [DEBUG] [Segment.cpp:2316] ["Begin segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=1 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.208 +08:00] [DEBUG] [Segment.cpp:2333] ["Finish segment getReadInfo"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=1 onSyncGc"] [thread_id=1]
[2023/08/16 18:28:49.208 +08:00] [DEBUG] [StableValueSpace.cpp:460] ["start_ts: 18446744073709551615, enable_handle_clean_read: false, is_fast_mode: false, enable_del_clean_read: false"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.208 +08:00] [DEBUG] [DMFilePackFilter.h:242] ["RSFilter exclude rate: nan, after_pk: 0, after_read_packs: 0, after_filter: 0, handle_ranges: {[20200,9223372036854775807)}, read_packs: 0, pack_count: 0"] [source=onSyncGc] [thread_id=1]
[2023/08/16 18:28:49.211 +08:00] [DEBUG] [PathPool.cpp:553] ["added new dtfile. [id=175] [path=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] [real_size=488] [reported_size=0]"] [thread_id=1]
[2023/08/16 18:28:49.211 +08:00] [DEBUG] [Segment.cpp:2082] ["Merge - Finish prepare, segments_to_merge=[5 segments: <segment_id=1 epoch=3 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_169 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=95 epoch=4 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_170 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=98 epoch=3 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_172 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=101 epoch=3 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_173 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=104 epoch=1 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_174 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>]"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.211 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.211 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.212 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.212 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.212 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.212 +08:00] [DEBUG] [DMVersionFilterBlockInputStream.h:83] ["Total rows: 0, pass: -nan%, complete pass: -nan%, complete not pass: -nan%, not clean: -nan%, is deleted: -nan%, effective: -nan%, start_ts: 0"] [source="mode=COMPACT"] [thread_id=1]
[2023/08/16 18:28:49.212 +08:00] [TRACE] [WriteBatchesImpl.h:105] ["Write into data : E101.175"] [thread_id=1]
[2023/08/16 18:28:49.212 +08:00] [DEBUG] [Segment.cpp:2104] ["Merge - Begin apply, segments_to_merge=[5 segments: <segment_id=1 epoch=3 range=[-9223372036854775808,20)>, <segment_id=95 epoch=4 range=[20,100)>, <segment_id=98 epoch=3 range=[100,20100)>, <segment_id=101 epoch=3 range=[20100,20200)>, <segment_id=104 epoch=1 range=[20200,9223372036854775807)>]"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [DEBUG] [Segment.cpp:2164] ["Merge - Finish apply, merged=<segment_id=1 epoch=4 range=[-9223372036854775808,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_175 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> merged_from_segments=[5 segments: <segment_id=1 epoch=3 range=[-9223372036854775808,20) next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_169 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=95 epoch=4 range=[20,100) next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_170 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=98 epoch=3 range=[100,20100) next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_172 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=101 epoch=3 range=[20100,20200) next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_173 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=104 epoch=1 range=[20200,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_174 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>]"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [TRACE] [WriteBatchesImpl.h:215] ["Write into meta : 101.93,101.92,101.93,101.1"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=1 epoch=3 range=[-9223372036854775808,20)>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=95 epoch=4 range=[20,100)>"] [source="keyspace=4294967295 table_id=101 segment_id=95 epoch=4"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=98 epoch=3 range=[100,20100)>"] [source="keyspace=4294967295 table_id=101 segment_id=98 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=101 epoch=3 range=[20100,20200)>"] [source="keyspace=4294967295 table_id=101 segment_id=101 epoch=3"] [thread_id=1]
[2023/08/16 18:28:49.213 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.214 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=104 epoch=1 range=[20200,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=104 epoch=1"] [thread_id=1]
[2023/08/16 18:28:49.214 +08:00] [TRACE] [DeltaIndexManager.cpp:116] ["Free DeltaIndex, [size 2032]"] [thread_id=1]
[2023/08/16 18:28:49.214 +08:00] [INFO] [DeltaMergeStore_InternalSegment.cpp:356] ["Merge - Finish, 5 segments are merged into one, reason=BackgroundGCThread merged=<segment_id=1 epoch=4 range=[-9223372036854775808,9223372036854775807) next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_175 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0> segments_to_merge=[5 segments: <segment_id=1 epoch=3 range=[-9223372036854775808,20) abandoned=true next_segment_id=95 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_169 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=95 epoch=4 range=[20,100) abandoned=true next_segment_id=98 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_170 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=98 epoch=3 range=[100,20100) abandoned=true next_segment_id=101 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_172 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=101 epoch=3 range=[20100,20200) abandoned=true next_segment_id=104 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_173 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>, <segment_id=104 epoch=1 range=[20200,9223372036854775807) abandoned=true next_segment_id=0 delta_rows=0 delta_bytes=0 delta_deletes=0 stable_file=dmf_174 stable_rows=0 stable_bytes=0 dmf_rows=0 dmf_bytes=0 dmf_packs=0>]"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.214 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.169,X101.170,X101.172,X101.173,X101.174"] [thread_id=1]
[2023/08/16 18:28:49.214 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_meta : X101.95,X101.96,X101.94,X101.98,X101.99,X101.97,X101.101,X101.102,X101.100,X101.104,X101.105,X101.103"] [thread_id=1]
[2023/08/16 18:28:49.215 +08:00] [DEBUG] [DeltaMergeStore_InternalBg.cpp:942] ["Finish GC, gc_segments_num=1"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.215 +08:00] [TRACE] [DeltaMergeStore.cpp:430] ["Shutdown DeltaMerge start"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.215 +08:00] [TRACE] [DeltaMergeStore.cpp:441] ["Shutdown DeltaMerge end"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.215 +08:00] [INFO] [DeltaMergeStore.cpp:415] ["Drop DeltaMerge removing data from filesystem"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.215 +08:00] [DEBUG] [Segment.h:551] ["Abandon segment, segment=<segment_id=1 epoch=4 range=[-9223372036854775808,9223372036854775807)>"] [source="keyspace=4294967295 table_id=101 segment_id=1 epoch=4"] [thread_id=1]
[2023/08/16 18:28:49.215 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_data : X101.175"] [thread_id=1]
[2023/08/16 18:28:49.215 +08:00] [TRACE] [WriteBatchesImpl.h:248] ["Write into removed_meta : X101.1,X101.92,X101.93"] [thread_id=1]
[2023/08/16 18:28:49.216 +08:00] [INFO] [PathPool.cpp:284] ["Begin to drop [dir=/DATA/disk1/jaysonhuang/tiflash/cmake-build-debug/tmp/data/test_table] from main_path_infos"] [thread_id=1]
[2023/08/16 18:28:49.220 +08:00] [INFO] [DeltaMergeStore.cpp:421] ["Drop DeltaMerge done"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.220 +08:00] [INFO] [DeltaMergeStore.cpp:310] ["Release DeltaMerge Store start"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[2023/08/16 18:28:49.220 +08:00] [INFO] [DeltaMergeStore.cpp:314] ["Release DeltaMerge Store end"] [source="keyspace=4294967295 table_id=101"] [thread_id=1]
[       OK ] ByIngestUsingSplit/ApplySnapshotTest.WithNewRegionRange/1 (199 ms)
[----------] 1 test from ByIngestUsingSplit/ApplySnapshotTest (199 ms total)

[----------] Global test environment tear-down
[==========] 1 test from 1 test case ran. (199 ms total)
[  PASSED  ] 1 test.
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=73]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=41]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=42]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=48]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=61]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=43]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=70]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=63]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=39]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=57]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=68]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=19]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=62]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=69]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=51]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=65]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=45]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=47]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=67]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=44]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=59]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=21]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=52]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=71]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=40]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=58]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=55]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=64]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=53]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=54]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=72]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=38]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=49]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=46]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=60]
[2023/08/16 18:28:49.221 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=66]
[2023/08/16 18:28:49.222 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.223 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=8]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=35]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=24]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=37]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=56]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=10]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=12]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=18]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=5]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=50]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=13]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=4]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=3]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=15]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=26]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=33]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=16]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=6]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=20]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=27]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=28]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=14]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=30]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=9]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=36]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=25]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=22]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=23]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=11]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=2]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=7]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=17]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=31]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=29]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=34]
[2023/08/16 18:28:49.224 +08:00] [INFO] [SegmentReader.cpp:86] ["Pop fail, stop=true"] [thread_id=32]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.225 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
[2023/08/16 18:28:49.226 +08:00] [DEBUG] [SegmentReader.cpp:45] [Stopped] [thread_id=1]
